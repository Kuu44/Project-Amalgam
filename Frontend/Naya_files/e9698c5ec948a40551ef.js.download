(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{1209:function(e,t,s){"use strict";s.r(t);var n={components:{"app-header":s(283).a},head:function(){return{title:"Error 401 Access Denied",meta:[{hid:"description",name:"description",content:"Error 401 Access Denied"}]}}},a=s(22),i=Object(a.a)(n,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("no-ssr",[t("app-header")],1),this._v(" "),t("section",{staticClass:"hero is-fullheight-with-navbar"},[t("div",{staticClass:"hero-body"},[t("div",{staticClass:"container has-text-centered"},[t("h1",{staticClass:"title"},[this._v("\n               401\n            ")]),this._v(" "),t("h2",{staticClass:"subtitle"},[this._v("\n               Access Denied.\n               "),t("h3",{staticClass:"is-size-6"},[t("nuxt-link",{attrs:{to:{name:"index"}}},[this._v("\n                     ← back to home\n                  ")])],1)])])])])],1)}),[],!1,null,null,null);t.default=i.exports},1213:function(e,t,s){"use strict";s.r(t);s(97);var n=s(96),a=s(283),i=s(291),o=s(286),r=s.n(o),c=s(95),l=s.n(c);function h(){var e=Object(n.a)(["\n            query searchUsers($page: Int, $q: String!) {\n                searchUsers(page: $page, q: $q) {\n                list {\n                    name\n                    username\n                    image {\n                        hash\n                    }\n                }\n                hasmore\n                }\n            }\n         "]);return h=function(){return e},e}function u(){var e=Object(n.a)(["\n               query searchCollections($page: Int, $q: String!) {\n                  searchCollections(page: $page, q: $q) {\n                     hasmore\n                     list {\n                        name\n                        hash\n                        type\n                        description\n                        stars\n                        nitems\n                        logo {\n                           hash\n                        }\n                     }\n                  }\n               }\n            "]);return u=function(){return e},e}function d(){var e=Object(n.a)(["\n            query searchPosts($page: Int, $q: String!, $offset : Int, $collectionhash : String) {\n              searchPosts(page: $page, q: $q, offset : $offset, collectionhash : $collectionhash) {\n                hasmore\n                list {\n                  title\n                  attachments {\n                     hash\n                  }\n                  status\n                  fullstatus\n                  timestamp\n                  hash\n                  truncated\n                  nlikes\n                  theme\n                  themedata\n                  ncollected\n                  liked\n                  ncomments\n                  permissions\n                  privacy\n                  author {\n                    name\n                    username\n                    hash\n                    image {\n                      hash\n                    }\n                  }\n                }\n              }\n            }\n          "]);return d=function(){return e},e}function m(){var e=Object(n.a)(["\n            query searchUsers($page: Int, $q: String!) {\n                searchUsers(page: $page, q: $q) {\n                list {\n                    name\n                    username\n                    image {\n                        hash\n                    }\n                }\n                hasmore\n                }\n            }\n         "]);return m=function(){return e},e}function p(){var e=Object(n.a)(["\n               query searchCollections($page: Int, $q: String!) {\n                  searchCollections(page: $page, q: $q) {\n                     hasmore\n                     list {\n                        name\n                        hash\n                        type\n                        description\n                        stars\n                        nitems\n                        logo {\n                           hash\n                        }\n                     }\n                  }\n               }\n            "]);return p=function(){return e},e}function g(){var e=Object(n.a)(["\n            query searchPosts($page: Int, $q: String!, $collectionhash : String) {\n              searchPosts(page: $page, q: $q, collectionhash : $collectionhash) {\n                hasmore\n                list {\n                  title\n                  status\n                  attachments { \n                    hash\n                  }\n                  fullstatus\n                  timestamp\n                  hash\n                  truncated\n                  nlikes\n                  ncollected\n                  liked\n                  ncomments\n                  permissions\n                  privacy\n                  theme\n                  themedata\n                  collection {\n                     name\n                     hash\n                  }\n                  author {\n                    name\n                    username\n                    hash\n                    image {\n                      hash\n                    }\n                  }\n                }\n              }\n            }\n          "]);return g=function(){return e},e}function v(){var e=Object(n.a)(["\n        query collection($hash: String!) {\n          collection(hash: $hash) {\n            name\n            hash\n            logo{\n                hash\n            }\n          }\n        }\n      "]);return v=function(){return e},e}var f={apollo:{collection:{query:l()(v()),prefetch:!1,skip:function(){return!this.$route.query.collectionhash},variables:function(){return{hash:this.$route.query.collectionhash}},update:function(e){return e.collection},error:function(e){e.message=="GraphQL error: could not find collection/"+this.$route.params.hash&&this.$router.replace({name:"error404"})}}},data:function(){return{server:"https://api.naya.com.np/",searchContent:"",posts:[],hasmorePosts:0,searched:!1,collections:[],hasmoreCollections:0,users:[],hasmoreUsers:0,searching:!1,postPageNumber:1,collectionPageNumber:1,userPageNumber:1,loadingMore:!1,offset:0,activeTab:0,searchInFocus:!1}},head:function(){return{title:this.searchContent?"Searching Naya for "+this.searchContent:"Search in Naya",meta:[{hid:"description",name:"description",content:"search in naya"}]}},watch:{searchContent:function(e){0==e.length&&(this.searched=!1)}},methods:{decreaseOffset:function(){this.offset--},checktabIndex:function(){0==this.activeTab||this.$route.query.collectionhash?this.$router.push({query:{q:this.searchContent,type:"posts",collectionhash:this.$route.query.collectionhash}}):1==this.activeTab?this.$router.push({query:{q:this.searchContent,type:"collections"}}):this.$router.push({query:{q:this.searchContent,type:"users"}})},searchPosts:function(){var e=this;this.$apollo.query({query:l()(g()),variables:{page:1,q:this.searchContent,collectionhash:this.$route.query.collectionhash}}).then((function(t){e.searched=!0,e.posts=t.data.searchPosts.list,e.hasmorePosts=t.data.searchPosts.hasmore})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},searchCollections:function(){var e=this;this.$apollo.query({query:l()(p()),variables:{page:1,q:this.searchContent}}).then((function(t){e.searched=!0,e.collections=t.data.searchCollections.list,e.hasmoreCollections=t.data.searchCollections.hasmore,e.searching=!1})).catch((function(t){e.searching=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},searchUsers:function(){var e=this;this.$apollo.query({query:l()(m()),variables:{page:1,q:this.searchContent}}).then((function(t){e.searched=!0,e.users=t.data.searchUsers.list,e.hasmoreUsers=t.data.searchUsers.hasmore,e.searching=!1})).catch((function(t){e.searching=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},loadMorePosts:function(){var e=this;this.postPageNumber++,this.loadingMore=!0,this.$apollo.query({query:l()(d()),variables:{page:this.postPageNumber,q:this.searchContent,offset:this.offset,collectionhash:this.$route.query.collectionhash}}).then((function(t){e.posts=e.posts.concat(t.data.searchPosts.list),e.hasmorePosts=t.data.searchPosts.hasmore,e.loadingMore=!1})).catch((function(t){e.loadingMore=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},loadMoreCollections:function(){var e=this;this.collectionPageNumber++,this.loadingMore=!0,this.$apollo.query({query:l()(u()),variables:{page:this.collectionPageNumber,q:this.searchContent}}).then((function(t){e.collections=e.collections.concat(t.data.searchCollections.list),e.hasmoreCollections=t.data.searchCollections.hasmore,e.loadingMore=!1})).catch((function(t){e.loadingMore=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},loadMoreUsers:function(){var e=this;this.userPageNumber++,this.loadingMore=!0,this.$apollo.query({query:l()(h()),variables:{page:this.userPageNumber,q:this.searchContent}}).then((function(t){e.users=e.users.concat(t.data.searchUsers.list),e.hasmoreUsers=t.data.searchUsers.hasmore,e.loadingMore=!1})).catch((function(t){e.loadingMore=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},searchAll:function(e){e&&e.target.blur(),this.searchContent.length>0&&(this.searching=!0,this.searchPosts(),this.searchCollections(),this.searchUsers(),this.checktabIndex())},removeNewlines:function(e){}},mounted:function(){this.$route.query&&this.$route.query.q&&(this.searchContent=this.$route.query.q,this.$route.query.type&&("posts"==this.$route.query.type?this.activeTab=0:"collections"==this.$route.query.type?this.activeTab=1:this.activeTab=2),this.searchAll())},components:{"app-header":a.a,"app-post":i.a,StarRating:r.a}},b=(s(369),s(22)),C=Object(b.a)(f,(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("no-ssr",[s("app-header")],1),e._v(" "),s("div",{attrs:{id:"naya-content"}},[s("no-ssr",[s("textarea-autosize",{ref:"search",staticClass:"has-text-centered has-text-dark textarea inline is-size-1 is-size-2-mobile has-text-weight-bold",class:e.searchContent&&e.searchContent.trim().length>0?"":"margin-top-30-vh",attrs:{rows:"1",placeholder:e.searchInFocus?"":"Search ...",maxlength:"75"},nativeOn:{focus:function(t){e.searchInFocus=!0},blur:function(t){e.searchInFocus=!1},paste:function(t){return e.removeNewlines(t)},keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.searchAll(t)}},model:{value:e.searchContent,callback:function(t){e.searchContent="string"==typeof t?t.trim():t},expression:"searchContent"}})],1),e._v(" "),!e.searchContent||e.searchContent.trim().length<=0?s("div",{staticClass:"has-text-centered has-text-grey-light"},[e._m(0)]):e._e(),e._v(" "),e.searchContent&&e.searchContent.trim().length>0?s("section",{staticClass:"margin-top-50-px"},[s("b-tabs",{staticClass:"block",attrs:{position:"is-centered"},on:{input:e.checktabIndex},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[s("b-tab-item",{attrs:{label:"Posts"}},[e.posts?s("div",{staticClass:"columns is-gapless"},[s("div",{staticClass:"column is-one-third"},[s("div",{staticClass:"margin-bottom-20-px"},[s("h1",{staticClass:"is-size-3 is-size-4-mobile has-text-weight-bold"},[e._v("Posts")]),e._v(" "),s("h2",[e._v("\n                                 Searching for: "+e._s(e.searchContent)+"\n                                 "),e.posts&&0==e.posts.length&&e.searched&&e.searchContent?s("p",[e._v("0 results found")]):e._e()]),e._v(" "),e.$route.query.collectionhash&&e.collection?s("h2",[e._v("\n                                 Searching in collection: "),s("span",{staticClass:"tag"},[e._v(e._s(e.collection.name))]),e._v(" "),e.posts&&0==e.posts.length&&e.searched&&e.searchContent?s("p",[e._v("0 results found")]):e._e()]):e._e()])]),e._v(" "),s("div",{staticClass:"column"},[s("div",[e._l(e.posts,(function(t,n){return s("div",{key:n,staticClass:"margin-bottom-50-px"},[s("app-post",{attrs:{postObject:t},on:{refreshQuery:function(t){return e.refreshQuery(t)},decreaseOffset:function(t){return e.decreaseOffset(t)}}})],1)})),e._v(" "),1==e.hasmorePosts?s("center",{staticClass:"margin-top-50-px"},[s("button",{staticClass:"button is-clear",class:e.loadingMore?"is-loading":"",on:{click:e.loadMorePosts}},[e._v("load more")])]):e._e()],2)])]):e._e()]),e._v(" "),e.$route.query.collectionhash?e._e():s("b-tab-item",{attrs:{label:"Collections"}},[s("div",{staticClass:"margin-bottom-20-px"},[s("h1",{staticClass:"is-size-3 is-size-4-mobile has-text-weight-bold"},[e._v("Collections")]),e._v(" "),s("h2",[e._v("\n                     Searching for: "+e._s(e.searchContent)+"\n                     "),e.collections&&0==e.collections.length&&e.searched&&e.searchContent?s("p",[e._v("0 results found")]):e._e()])]),e._v(" "),e.collections&&e.collections.length>0?s("div",{staticClass:"columns is-multiline is-mobile is-variable is-2"},e._l(e.collections,(function(t,n){return s("div",{key:n,staticClass:"column is-half-mobile is-one-third-tablet is-one-quarter-desktop pointer"},[s("nuxt-link",{attrs:{to:{name:"singleCollection",params:{hash:t.hash}}}},[s("div",{staticClass:"list-card card"},[s("div",{staticClass:"card-image"},[s("figure",{staticClass:"image is-4by3"},[s("img",{staticClass:"border-radius-5-px",style:{"background-image":"url('"+(t.logo&&null!=t.logo?e.server+"attachments.img/sm/"+t.logo.hash:e.server+"public/images/sm/empty_cl.png")+"')","background-size":"cover","background-position":"center center"},attrs:{src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}})])]),e._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-content"},[t.nitems?s("span",{staticClass:"tag is-white has-text-grey collection-nitems"},[s("b-icon",{attrs:{icon:"card-text-outline",size:"is-small"}}),e._v(" "),s("span",{staticClass:"margin-left-5-px"},[e._v(e._s(t.nitems))])],1):e._e(),e._v(" "),s("p",{staticClass:"is-uppercase is-size-7 has-text-grey-light"},[e._v(e._s(t.type))]),e._v(" "),s("p",{staticClass:"has-text-weight-bold"},[e._v(e._s(t.name))]),e._v(" "),!t.description||t.description.length<50?s("p",{staticClass:"has-text-grey"},[e._v(e._s(t.description))]):s("p",{staticClass:"has-text-grey"},[e._v(e._s(t.description&&t.description.replace(/^(.{50}[^\s]*).*/,"$1"))+" ...")]),e._v(" "),t.stars?s("div",[s("no-ssr",[s("star-rating",{attrs:{"star-size":15,"show-rating":!1,"active-color":"gold","read-only":!0,padding:-2,rating:t.stars.rating}})],1)],1):e._e()])])])])])],1)})),0):e._e(),e._v(" "),e.searching?s("no-ssr",[s("div",{staticClass:"columns is-multiline is-mobile is-variable is-2"},e._l(8,(function(t){return s("div",{key:t,staticClass:"column is-half-mobile is-one-third-tablet is-one-quarter-desktop"},[s("content-placeholders",{attrs:{rounded:!0}},[s("content-placeholders-img"),e._v(" "),s("content-placeholders-heading")],1)],1)})),0)]):e._e(),e._v(" "),1==e.hasmoreCollections?s("center",{staticClass:"margin-top-50-px"},[s("button",{staticClass:"button is-clear",class:e.loadingMore?"is-loading":"",on:{click:e.loadMoreCollections}},[e._v("load more")])]):e._e()],1),e._v(" "),e.$route.query.collectionhash?e._e():s("b-tab-item",{attrs:{label:"Users"}},[s("div",{staticClass:"margin-bottom-20-px"},[s("h1",{staticClass:"is-size-3 is-size-4-mobile has-text-weight-bold"},[e._v("Users")]),e._v(" "),s("h2",[e._v("\n                     Searching for: "+e._s(e.searchContent)+"\n                     "),e.users&&0==e.users.length&&e.searched&&e.searchContent?s("p",[e._v("0 results found")]):e._e()])]),e._v(" "),e.users&&e.users.length>0?s("div",{staticClass:"columns is-multiline is-mobile is-variable is-2"},e._l(e.users,(function(t,n){return s("div",{key:n,staticClass:"column is-half-mobile is-one-third-tablet is-one-quarter-desktop pointer"},[s("nuxt-link",{attrs:{to:{name:"user",params:{username:t.username}}}},[s("div",{staticClass:"list-card card"},[s("div",{staticClass:"card-image"},[s("figure",{staticClass:"image is-1by1"},[s("img",{staticClass:"border-radius-5-px",style:{"background-image":"url('"+(t.image&&null!=t.image?e.server+"attachments.img/sm/"+t.image.hash:e.server+"public/images/sm/empty_pp.png")+"')","background-size":"cover","background-position":"center center"},attrs:{src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}})])]),e._v(" "),s("div",{staticClass:"card-content"},[s("div",{staticClass:"media"},[s("div",{staticClass:"media-content"},[s("p",{staticClass:"has-text-weight-bold"},[e._v(e._s(t.name))]),e._v(" "),s("p",[e._v("@"+e._s(t.username))])])])])])])],1)})),0):e._e(),e._v(" "),e.searching?s("no-ssr",[s("div",{staticClass:"columns is-multiline is-mobile is-variable is-2"},e._l(8,(function(t){return s("div",{key:t,staticClass:"column is-half-mobile is-one-third-tablet is-one-quarter-desktop"},[s("content-placeholders",{attrs:{rounded:!0}},[s("content-placeholders-img"),e._v(" "),s("content-placeholders-heading")],1)],1)})),0)]):e._e(),e._v(" "),1==e.hasmoreUsers?s("center",{staticClass:"margin-top-50-px"},[s("button",{staticClass:"button is-clear",class:e.loadingMore?"is-loading":"",on:{click:e.loadMoreUsers}},[e._v("load more")])]):e._e()],1)],1)],1):e._e()],1)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("span",[t("b",[this._v("Search")]),this._v(" - People, Posts & Collections")])}],!1,null,"0a4820b7",null);t.default=C.exports},325:function(e,t,s){},369:function(e,t,s){"use strict";var n=s(325);s.n(n).a}}]);