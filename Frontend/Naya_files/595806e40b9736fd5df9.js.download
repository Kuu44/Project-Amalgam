/*! For license information please see 595806e40b9736fd5df9.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{1215:function(e,t,a){"use strict";a.r(t);a(98),a(99),a(70),a(153),a(154),a(47),a(38);var s=a(10),n=(a(69),a(97),a(96)),o=a(283),i=a(102),r=a.n(i),l=a(100),c=a.n(l),u=a(291),m=a(95),h=a.n(m),d=a(290),p=a(287),f=a.n(p);function g(){var e=Object(n.a)(["\n            mutation createConversation($username: Username) {\n              createConversation(username: $username) {\n                hash\n              }\n            }\n          "]);return g=function(){return e},e}function v(){var e=Object(n.a)(["\n            query user($username: Username!, $page: Int, $offset : Int, $sortby : SortBy) {\n            user(username: $username) {\n                posts(page: $page, offset : $offset, sortby : $sortby) {\n                    hasmore\n                    list {\n                        title\n                        status\n                        fullstatus\n                        attachments{\n                           hash\n                        }\n                        timestamp\n                        hash\n                        truncated\n                        nlikes\n                        ncollected\n                        liked\n                        ncomments\n                        permissions\n                        privacy\n                        theme\n                        themedata\n                        collection {\n                            name\n                            hash\n                        }\n                        author {\n                            name\n                            username\n                            hash\n                            image {\n                                hash\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        "]);return v=function(){return e},e}function b(){var e=Object(n.a)(["\n            mutation blockUser($username: Username!) {\n              blockUser(username: $username) {\n                success\n              }\n            }\n          "]);return b=function(){return e},e}function y(){var e=Object(n.a)(["\n            mutation removeFriend($username: Username!) {\n              removeFriend(username: $username) {\n                success\n              }\n            }\n          "]);return y=function(){return e},e}function _(){var e=Object(n.a)(["\n            mutation addFriend($username: Username!) {\n              addFriend(username: $username) {\n                name\n              }\n            }\n          "]);return _=function(){return e},e}function C(){var e=Object(n.a)(["\n            mutation unfollowUser($username: Username!) {\n              unfollowUser(username: $username) {\n                success\n              }\n            }\n          "]);return C=function(){return e},e}function w(){var e=Object(n.a)(["\n            mutation followUser($username: Username!) {\n              followUser(username: $username) {\n                success\n              }\n            }\n          "]);return w=function(){return e},e}function $(){var e=Object(n.a)(["\n            mutation setNewName($name: String!) {\n              setNewName(name: $name) {\n                success\n              }\n            }\n          "]);return $=function(){return e},e}function A(){var e=Object(n.a)(["\n            mutation setNewAboutMe($content: String!) {\n              setNewAboutMe(content: $content) {\n                success\n              }\n            }\n          "]);return A=function(){return e},e}function x(){var e=Object(n.a)(["\n            mutation removeCoverPhoto {\n              removeCoverPhoto {\n               success\n              }\n            }\n          "]);return x=function(){return e},e}function k(){var e=Object(n.a)(["\n            mutation removeProfilePicture {\n              removeProfilePicture {\n               success\n              }\n            }\n          "]);return k=function(){return e},e}function I(){var e=Object(n.a)(["\n            mutation setNewCoverPhoto($hash: String!) {\n              setNewCoverPhoto(hash: $hash) {\n               hash\n              }\n            }\n          "]);return I=function(){return e},e}function P(){var e=Object(n.a)(["\n            mutation setNewProfilePicture($hash: String!) {\n              setNewProfilePicture(hash: $hash) {\n               hash\n              }\n            }\n          "]);return P=function(){return e},e}function U(){var e=Object(n.a)(["\n            mutation addPost(\n              $title: String\n              $status: String\n              $privacy: PostPrivacy!\n              $hidefromprofile: NoYes!\n              $attachments: [String!]\n              $customfield: String\n              $collectionhash: String\n              $aliashash: String\n              $theme: Theme!\n              $themedata_link: ThemeLinkData\n              $themedata_shop: ThemeShopData\n            ) {\n              addPost(\n                title: $title\n                status: $status\n                privacy: $privacy\n                hidefromprofile: $hidefromprofile\n                attachments: $attachments\n                customfield: $customfield\n                collectionhash: $collectionhash\n                aliashash: $aliashash\n                theme: $theme\n                themedata_link: $themedata_link\n                themedata_shop: $themedata_shop\n              ) {\n                hash\n                timestamp\n                attachments { \n                    hash\n                }\n                ncomments\n                permissions\n                privacy\n                theme\n                themedata\n                collection {\n                  name\n                  hash\n                }\n                author {\n                  name\n                  username\n                  hash\n                  image {\n                      hash\n                  }\n                }\n              }\n            }\n          "]);return U=function(){return e},e}function S(){var e=Object(n.a)(["\n            mutation addCollection($name: String!, $type: CollectionType!) {\n              addCollection(name: $name, type: $type) {\n                name\n                hash\n                type\n              }\n            }\n          "]);return S=function(){return e},e}function O(){var e=Object(n.a)(["\n        query user($username: Username!, $page: Int, $offset: Int, $sortby : SortBy) {\n          user(username: $username) {\n            username\n            name\n            level\n            aboutme\n            image {\n                hash\n            }\n            coverphoto {\n                hash\n            }\n            chatstatus\n            followstatus\n            nfollowers\n\t\t\t\ttimestamp\n\n            collections (total: 3, level : admin) {\n               hasmore\n               list {\n                  name\n                  hash\n                  logo {\n                     hash\n                  }\n               }\n            }\n            posts(page: $page, offset : $offset, sortby : $sortby) {\n              hasmore\n              list {\n                title\n                status\n                fullstatus\n                attachments { \n                    hash\n                }\n                timestamp\n                hash\n                truncated\n                nlikes\n                ncollected\n                liked\n                ncomments\n                permissions\n                privacy\n                theme\n                themedata\n                collection {\n                  name\n                  hash\n                }\n                author {\n                  name\n                  username\n                  hash\n                  image {\n                      hash\n                  }\n                }\n              }\n            }\n          }\n        }\n      "]);return O=function(){return e},e}var M,N={apollo:{user:{query:h()(O()),variables:function(){return{username:this.$route.params.username,page:parseInt(this.$route.query.page),offset:0,sortby:this.$route.query.sortby}},update:function(e){return e.user&&(this.aboutme=e.user.aboutme),e.user&&e.user.posts&&e.user.posts.list&&(this.posts=e.user.posts.list,this.hasmore=e.user.posts.hasmore),e.user&&e.user.image&&(this.profileImageHash=e.user.image.hash),e.user&&e.user.coverphoto&&(this.coverImageHash=e.user.coverphoto.hash),e.user},error:function(e){e.message!="GraphQL error: could not find user "+this.$route.params.username&&"Network error: Response not successful: Received status code 400"!=e.message||this.$router.replace({name:"error404"})}}},data:function(){var e=this;return{server:"https://api.naya.com.np/",profileImageHash:null,profileImageDeleted:!1,coverImageHash:null,infiniteLoadTrigger:!1,hideFromProfile:!1,privacy:"public",dropFiles:[],attachedImages:[],files:[],name:"",nameChangeShow:!1,isLoadingAbout:!1,isLoadingName:!1,aboutme:"",editAboutShow:!1,user:{},posts:[],offset:0,hasmore:null,username:this.$route.params.username,currentUser:null,isImageUploadModalActive:!1,isCoverPhotoUploadModalActive:!1,pageNumber:this.$route.query.page?this.$route.query.page:1,prevPageQuery:function(){var t=JSON.parse(JSON.stringify(e.$route.query))||{},a=parseInt(e.pageNumber);return a>1?t.page=a-1:t.page&&delete t.page,t},nextPageQuery:function(){var t=JSON.parse(JSON.stringify(e.$route.query))||{},a=parseInt(e.pageNumber);return a>=1?t.page=a+1:t.page&&delete t.page,t},sortbyQuery:function(t){var a=JSON.parse(JSON.stringify(e.$route.query))||{};return a.page&&delete a.page,a.sortby=t,a},status:"",error:null,disabled:!1,collectionTypes:["page","business","organization","landmark","location","favorites","album","data","application"],selectedType:"",collectionName:"",isCollectionModalActive:!1,uploading:!1,routeEnter:null,disable:!1}},head:function(){return{title:this.user&&this.user.name?this.user.name:this.user.username,meta:[{hid:"description",name:"description",content:this.aboutme?this.aboutme.replace(/<[^>]*>?/gm,""):"Hi, this is ".concat(this.user.name,". Follow me on Naya to stay up to date with all my adventures, posts and stories!")},{hid:"og:title",property:"og:title",content:this.user&&this.user.name?this.user.name:this.user.username},{hid:"og:description",property:"og:description",content:this.aboutme?this.aboutme.replace(/<[^>]*>?/gm,""):"Hi, this is ".concat(this.user.name,". Follow me on Naya to stay up to date with all my adventures, posts and stories!")}]}},beforeRouteEnter:function(e,t,a){a((function(e){null!=t.name&&(e.routeEnter=t.name,e.$apollo.queries.user.refetch())}))},methods:{createCollection:function(){var e=this,t=this.selectedType,a=this.collectionName;this.disable=!0,a.length>0?this.$apollo.mutate({mutation:h()(S()),variables:{name:a,type:t}}).then((function(t){e.name="",e.selectedType="",e.disable=!1,e.$router.push({name:"singleCollection",params:{hash:t.data.addCollection.hash}}),e.isCollectionModalActive=!1})).catch((function(t){e.isLoadingName=!1,e.disable=!1,"Network error: Response not successful: Received status code 400"==t.message?e.$toast.open({message:"Collection Type is required",type:"is-danger",position:"is-bottom"}):"GraphQL error: you are banned from using this feature until Invalid Date"==t.message?e.$toast.open({message:"Banned from using this feature",type:"is-danger",position:"is-bottom"}):"GraphQL error: authorization token was not provided"==t.message?e.$toast.open({message:"Login required!",type:"is-danger",position:"is-bottom"}):e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})})):this.$toast.open({message:"Collection Name is required",type:"is-danger",position:"is-bottom"})},decreaseOffset:function(){this.offset--},removeAddedImage:function(e){this.attachedImages.splice(e,1)},addImageToModal:(M=Object(s.a)(regeneratorRuntime.mark((function e(){var t,a,s,n,o,i,l,c=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){return new Promise((function(t){new f.a(e,{quality:.98,maxWidth:1200,maxHeight:1200,success:function(e){t(e)},error:function(a){t(e)}})}))},t=new FormData,this.uploading=!0,e.next=6,a(this.dropFiles[0]);case 6:if(s=e.sent,this.dropFiles.length>0){for(n=0;n<1;n++)t.append("attachments",s,s.name);o=document.querySelector("#uploaded-profile-picture"),i="image-loader-"+Math.random().toString(36).substr(2,9),l='\n               <figure id="'.concat(i,'" class="image is-square bg-cover has-background-grey-lighter border-radius-3-px overflow-hidden">\n                  <div class="loader-wave"></div>\n               </figure>\n            '),o.insertAdjacentHTML("beforeend",l),r()({method:"post",url:"".concat(this.server,"upload"),data:t,headers:{"Content-Type":"multipart/form-data; boundary=${imageData._boundary}",authorization:this.$store.state.token},onUploadProgress:function(e){var t=e.loaded,a=e.total;if(a){var s=Math.ceil(t/a*100);document.querySelector("#".concat(i," > .loader-wave")).style.height=s+"%"}}}).then((function(e){e.data.success?c.attachedImages=c.attachedImages.concat(e.data.attachments):"Only jpeg, jpg or png formats are supported"==e.data.error.message?c.$toast.open({message:"Only jpeg, jpg or png formats are supported",type:"is-danger",position:"is-bottom"}):"File too large"==e.data.error.message?c.$toast.open({message:"File size is too large",type:"is-danger",position:"is-bottom"}):c.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"}),c.uploading=!1,c.dropFiles=[];var t=document.querySelector("#".concat(i));t.parentNode.removeChild(t)})).catch((function(e){this.uploading=!1,this.dropFiles=[];var t=document.querySelector("#".concat(i));t.parentNode.removeChild(t)}))}case 9:case"end":return e.stop()}}),e,this)}))),function(){return M.apply(this,arguments)}),changeProfileImage:function(){var e=this,t=this.privacy;this.disabled=!0;var a=[],s=!0,n=!1,o=void 0;try{for(var i,r=this.attachedImages[Symbol.iterator]();!(s=(i=r.next()).done);s=!0){var l=i.value;a.push(l.filename)}}catch(e){n=!0,o=e}finally{try{s||null==r.return||r.return()}finally{if(n)throw o}}if(1==this.hideFromProfile)var c="yes";else c="no";this.$apollo.mutate({mutation:h()(U()),variables:{privacy:t,hidefromprofile:c,attachments:a,theme:"status",status:""}}).then((function(t){e.offset++,e.posts=[t.data.addPost].concat(e.posts),e.isImageUploadModalActive?(e.isImageUploadModalActive=!1,e.setProfileImage(t.data.addPost.attachments[0].hash)):e.isCoverPhotoUploadModalActive&&(e.isCoverPhotoUploadModalActive=!1,e.setCoverImage(t.data.addPost.attachments[0].hash)),e.disabled=!1,e.attachedImages=[]})).catch((function(t){e.disabled=!1,e.isCoverPhotoUploadModalActive=!1,e.isImageUploadModalActive=!1,e.attachedImages=[],"GraphQL error: you are banned from using this feature until Invalid Date"==t.message&&e.$toast.open({message:"Banned from using this feature",type:"is-danger",position:"is-bottom"})}))},setProfileImage:function(e){var t=this;this.$apollo.mutate({mutation:h()(P()),variables:{hash:e}}).then((function(e){t.profileImageHash=e.data.setNewProfilePicture.hash,t.$store.commit("setProfileImage",e.data.setNewProfilePicture.hash),t.$cookies.set("profileImageHash",e.data.setNewProfilePicture.hash,{path:"/",maxAge:2592e3})})).catch((function(e){e&&t.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},setCoverImage:function(e){var t=this;this.$apollo.mutate({mutation:h()(I()),variables:{hash:e}}).then((function(e){t.coverImageHash=e.data.setNewCoverPhoto.hash})).catch((function(e){e&&t.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},removeProfileImage:function(){var e=this;this.$apollo.mutate({mutation:h()(k())}).then((function(t){e.profileImageHash=null,e.profileImageDeleted=!0,e.isImageUploadModalActive=!1,e.$store.commit("removeProfileImage"),e.$cookies.set("profileImageHash",null,{path:"/",maxAge:2592e3})})).catch((function(t){e.isImageUploadModalActive=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},removeCoverImage:function(){var e=this;this.$apollo.mutate({mutation:h()(x())}).then((function(t){e.coverImageHash=null,e.isCoverPhotoUploadModalActive=!1})).catch((function(t){e.isCoverPhotoUploadModalActive=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},gotoAddPost:function(){this.$router.push({name:"compose"})},setFocus:function(e){var t=this;this.$nextTick((function(){t.$refs[e].$el.focus()}))},setAboutMe:function(e){var t=this,a=this.aboutme;this.isLoadingAbout=!0,this.$apollo.mutate({mutation:h()(A()),variables:{content:a}}).then((function(e){t.isLoadingAbout=!1,t.editAboutShow=!1,t.$apollo.queries.user.refetch(),t.aboutme=""})).catch((function(e){t.isLoadingAbout=!1,e&&t.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},setNewName:function(){var e=this,t=this.name;this.isLoadingName=!0,this.$apollo.mutate({mutation:h()($()),variables:{name:t}}).then((function(t){e.isLoadingName=!1,e.nameChangeShow=!1,e.$apollo.queries.user.refetch(),e.name=""})).catch((function(t){e.isLoadingName=!1,t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},refreshQuery:function(){this.$apollo.queries.user.refetch()},follow:function(){var e=this,t=this.username;this.$apollo.mutate({mutation:h()(w()),variables:{username:t}}).then((function(t){e.$apollo.queries.user.refetch()})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},unfollow:function(){var e=this,t=this.username;this.$apollo.mutate({mutation:h()(C()),variables:{username:t}}).then((function(t){e.$apollo.queries.user.refetch()})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},addFriend:function(){var e=this,t=this.username;this.$apollo.mutate({mutation:h()(_()),variables:{username:t}}).then((function(t){e.$apollo.queries.user.refetch()})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},removeFriend:function(){var e=this,t=this.username;this.$apollo.mutate({mutation:h()(y()),variables:{username:t}}).then((function(t){e.$apollo.queries.user.refetch()})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},blockUser:function(){var e=this,t=this.username;this.$apollo.mutate({mutation:h()(b()),variables:{username:t}}).then((function(t){e.$apollo.queries.user.refetch()})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},loadmore:function(){var e=this;this.pageNumber++,this.$apollo.query({query:h()(v()),variables:{username:this.$route.params.username,page:this.pageNumber,offset:this.offset,sortby:this.$route.query.sortby}}).then((function(t){e.posts=e.posts.concat(t.data.user.posts.list),e.hasmore=t.data.user.posts.hasmore})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},loadMore:function(e){var t=this;this.pageNumber++,this.$apollo.queries.user.fetchMore({variables:{username:this.$route.params.username,page:this.pageNumber,sortby:this.$route.query.sortby},updateQuery:function(e,t){var a=t.fetchMoreResult,s=a.user.posts.list,n=a.user.posts.hasmore,o=a.user.username,i=a.user.name,r=a.user.level,l=a.user.aboutme,c=a.user.chatstatus,u=a.user.friendshipstatus,m=a.user.followstatus,h=a.user.nfriends,d=a.user.nfollowers,p=a.user.collections,f=a.user.image,g=a.user.coverphoto;return a?{user:{__typename:e.user.__typename,username:o,name:i,level:r,aboutme:l,chatstatus:c,friendshipstatus:u,followstatus:m,nfriends:h,nfollowers:d,collections:p,image:f,coverphoto:g,posts:{__typename:e.user.posts.__typename,list:e.user.posts.list.concat(s),hasmore:n}}}:e}}).then((function(t){e.loaded()})).catch((function(e){e&&t.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},sendMessage:function(){var e=this,t=this.username;this.$apollo.mutate({mutation:h()(g()),variables:{username:t}}).then((function(t){e.$router.push({name:"messages",params:{hash:t.data.createConversation.hash}})})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))},removeImage:function(){},uploadImage:function(){},loginMessage:function(){this.$toast.open({message:"Login required!",type:"is-danger",position:"is-bottom"})}},mounted:function(){this.$store.state.user&&(this.currentUser=this.$store.state.user.username)},components:{"app-header":o.a,"app-post":u.a,InfiniteLoading:c.a,"app-addpost":d.a}},j=(a(358),a(22)),q=Object(j.a)(N,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("no-ssr",[a("app-header")],1),e._v(" "),a("div",{attrs:{id:"naya-content"}},[a("div",{staticClass:"columns is-gapless margin-bottom-0-px-imp"},[a("div",{staticClass:"column"}),e._v(" "),a("div",{staticClass:"column is-four-fifths is-full-mobile"},[a("section",{staticClass:"hero is-medium"},[a("div",{staticClass:"hero-body padding-RL-0-px"},[e.user&&e.user.username?a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-third"},[a("div",{staticClass:"columns is-mobile"},[a("div",{staticClass:"column is-hidden-tablet"}),e._v(" "),a("div",{staticClass:"column is-5-mobile"},[a("figure",{staticClass:"image is-square"},[a("img",{staticClass:"border-radius-5-px",style:{"background-image":"url('"+(null!=e.profileImageHash?e.server+"attachments.img/sm/"+e.profileImageHash:e.server+"public/images/md/empty_pp.png")+"')","background-size":"cover","background-position":"center center"},attrs:{src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}}),e._v(" "),e.username==e.currentUser&&null!=e.currentUser?a("b-dropdown",{staticClass:"is-up pp-options-button"},[a("button",{staticClass:"button is-white has-text-primary",attrs:{slot:"trigger"},slot:"trigger"},[a("b-icon",{attrs:{icon:"pencil-circle"}})],1),e._v(" "),a("b-dropdown-item",{on:{click:function(t){e.isImageUploadModalActive=!0}}},[a("a",[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:"file-upload-outline"}}),e._v(" "),a("div",{staticClass:"media-content"},[e._v("\n                                                Upload new"),a("br"),e._v("profile picture\n                                             ")])],1)])]),e._v(" "),null!=e.profileImageHash?a("b-dropdown-item",{on:{click:e.removeProfileImage}},[a("a",[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:"delete-outline"}}),e._v(" "),a("div",{staticClass:"media-content"},[e._v("\n                                                Remove profile"),a("br"),e._v("picture\n                                             ")])],1)])]):e._e()],1):e._e()],1)]),e._v(" "),a("div",{staticClass:"column is-hidden-tablet"})])]),e._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"has-text-centered-mobile"},[a("h1",{staticClass:"is-size-2 is-size-3-mobile title padding-right-10-px"},[e._v(e._s(e.user.name))])]),e._v(" "),e.editAboutShow?a("div",{staticClass:"margin-top-10-px margin-bottom-20-px"},[a("textarea-autosize",{ref:"aboutme",staticClass:"textarea inline margin-bottom-10-px background-aliceblue is-size-4 is-size-5-mobile",attrs:{rows:"2",placeholder:"Write something about yourself ...",maxlength:"225"},nativeOn:{keydown:function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault()}},model:{value:e.aboutme,callback:function(t){e.aboutme="string"==typeof t?t.trim():t},expression:"aboutme"}}),e._v(" "),a("button",{staticClass:"button is-dark",class:e.isLoadingAbout?"is-loading":"",on:{click:e.setAboutMe}},[e._v("Save")]),e._v(" "),e.isLoadingAbout?e._e():a("button",{staticClass:"button is-clear margin-left-5-px",on:{click:function(t){e.editAboutShow=!1}}},[e._v("Cancel")])],1):a("div",{staticClass:"is-size-5 is-size-6-mobile margin-top-10-px"},[e.user.aboutme&&e.user.aboutme.trim().length?a("span",[e._v("\n                              "+e._s(e.user.aboutme)+"\n                           ")]):e.user.username==e.currentUser?a("span",[e._v("\n                              You have yet to write something to introduce yourself.\n                           ")]):a("span",[e._v("\n                              Hi, "),a("b",[e._v(e._s(e.user.username))]),e._v(" is yet to write about themselves. "+e._s(e.user.username)+" joined Naya on "+e._s(e._f("moment")(e.user.timestamp,"dddd, MMMM Do YYYY"))+".\n                           ")]),e._v(" "),e.user.username==e.currentUser?a("button",{staticClass:"button is-clear is-small is-rounded",on:{click:function(t){e.editAboutShow=!0}}},[a("span",{staticClass:"is-size-7"},[e._v("EDIT")])]):e._e()]),e._v(" "),a("no-ssr",[a("div",{staticClass:"columns is-mobile margin-top-10-px"},[e.currentUser&&e.username==e.currentUser?e._e():a("div",{staticClass:"column is-narrow margin-top-3-px margin-right-20-px"},["following"==e.user.followstatus?a("b-dropdown",{staticClass:"has-text-left"},[a("a",{staticClass:"button padding-20-px",attrs:{slot:"trigger"},slot:"trigger"},[a("span",[e._v("Unfollow")])]),e._v(" "),a("b-dropdown-item",{on:{click:e.unfollow}},[a("a",[a("b-icon",{attrs:{icon:"account-minus has-text-danger"}}),e._v(" "),a("span",{staticClass:"margin-left-10-px"},[e._v("Unfollow")])],1)])],1):e.currentUser&&"not_following"!=e.user.followstatus?e._e():a("a",{staticClass:"button is-dark padding-20-px",attrs:{slot:"trigger"},on:{click:function(t){null!=e.currentUser?e.follow():e.loginMessage()}},slot:"trigger"},[a("span",[e._v("Follow")])])],1),e._v(" "),a("div",{staticClass:"column is-narrow margin-top-3-px margin-right-10-px"},[a("nuxt-link",{attrs:{to:{name:"userFollowers",query:{username:e.username}}}},[a("b",{staticClass:"tag is-warning"},[e._v(e._s(e.user.nfollowers))]),e._v(" "),a("p",{staticClass:"is-size-7 margin-top-3-px has-text-grey"},[e._v("Followers")])])],1),e._v(" "),a("div",{staticClass:"column is-narrow margin-right-10-px"},[a("button",{staticClass:"button is-white",on:{click:function(t){null!=e.currentUser?e.sendMessage():e.loginMessage()}}},[a("b-icon",{staticClass:"has-text-grey-light margin-top-3-px",attrs:{icon:"message-text-outline"}}),e._v(" "),"online"==e.user.chatstatus?a("span",{staticClass:"is-online"}):e._e()],1)]),e._v(" "),e.user.username==e.currentUser?a("div",{staticClass:"column"},[a("b-dropdown",{staticClass:"is-up no-overflow"},[a("button",{staticClass:"button is-white",attrs:{slot:"trigger"},slot:"trigger"},[a("b-icon",{staticClass:"has-text-grey-light",attrs:{icon:"dots-horizontal-circle-outline"}})],1),e._v(" "),a("div",{staticClass:"dropdown-inner-content"},[a("b-dropdown-item",{on:{click:function(t){e.isImageUploadModalActive=!0}}},[a("a",[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:"file-upload-outline"}}),e._v(" "),a("div",{staticClass:"media-content"},[e._v("\n                                                   Upload new"),a("br"),e._v("profile picture\n                                                ")])],1)])]),e._v(" "),null!=e.profileImageHash?a("b-dropdown-item",{on:{click:e.removeProfileImage}},[a("a",[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:"delete-outline"}}),e._v(" "),a("div",{staticClass:"media-content"},[e._v("\n                                                   Remove current"),a("br"),e._v("profile picture\n                                                ")])],1)])]):e._e(),e._v(" "),a("hr",{staticClass:"dropdown-divider"}),e._v(" "),a("b-dropdown-item",{on:{click:function(t){e.editAboutShow=!0}}},[a("a",[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:"text"}}),e._v(" "),a("div",{staticClass:"media-content"},[e._v("\n                                                   Set about me\n                                                ")])],1)])]),e._v(" "),a("hr",{staticClass:"dropdown-divider"}),e._v(" "),a("b-dropdown-item",[a("nuxt-link",{attrs:{to:{name:"settings"}}},[a("div",{staticClass:"media"},[a("b-icon",{staticClass:"media-left",attrs:{icon:"settings"}}),e._v(" "),a("div",{staticClass:"media-content"},[e._v("\n                                                   More settings\n                                                ")])],1)])],1)],1)])],1):e._e()])])],1)]):a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-2"}),e._v(" "),a("div",{staticClass:"column is-one-third"},[a("div",{staticClass:"columns is-mobile"},[a("div",{staticClass:"column is-hidden-tablet"}),e._v(" "),a("div",{staticClass:"column is-5-mobile"},[a("content-placeholders",{attrs:{rounded:!0}},[a("content-placeholders-img"),e._v(" "),a("content-placeholders-heading")],1)],1),e._v(" "),a("div",{staticClass:"column is-hidden-tablet"})])]),e._v(" "),a("div",{staticClass:"column"},[a("div",{staticClass:"columns is-mobile"},[a("div",{staticClass:"column is-1 is-hidden-tablet"}),e._v(" "),a("div",{staticClass:"column"},[a("content-placeholders",{attrs:{rounded:!0}},[a("content-placeholders-text",{attrs:{lines:3}})],1)],1),e._v(" "),a("div",{staticClass:"column is-1 is-hidden-tablet"})])]),e._v(" "),a("div",{staticClass:"column is-2"})])])])]),e._v(" "),a("div",{staticClass:"column"})]),e._v(" "),e.user&&e.user.username?a("div",{staticClass:"columns is-gapless"},[a("div",{staticClass:"column"}),e._v(" "),a("div",{staticClass:"column is-four-fifths"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-third"},[a("div",{staticClass:"margin-bottom-30-px"},[a("div",[e.currentUser==e.username?a("b",{staticClass:"pointer margin-right-5-px tag is-danger",on:{click:function(t){e.isCollectionModalActive=!0}}},[e._v("+")]):e._e(),e._v(" "),a("nuxt-link",{attrs:{to:{name:"collections",query:{username:e.user.username}}}},[e._v("\n                           Collections\n                        ")])],1),e._v(" "),e.user.collections&&e.user.collections.list&&e.user.collections.list.length?a("div",{staticClass:"margin-top-10-px clear-both"},[e._l(e.user.collections.list,(function(t,s){return a("span",{key:s,staticClass:"margin-right-10-px"},[a("nuxt-link",{attrs:{to:{name:"singleCollection",params:{hash:t.hash}}}},[a("img",{staticClass:"border-radius-5-px",style:{"background-image":"url('"+(t.logo&&null!=t.logo?e.server+"attachments.img/sm/"+t.logo.hash:e.server+"public/images/sm/empty_cl.png")+"')","background-size":"cover","background-position":"center center"},attrs:{width:"30",title:t.name,src:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}})])],1)})),e._v(" "),e.user.collections&&e.user.collections.hasmore?a("nuxt-link",{staticClass:"position-absolute",attrs:{to:{name:"collections",query:{username:e.user.username}}}},[a("b",{staticClass:"tag tag-more-collections"},[e._v("+ more")])]):e._e()],2):a("div",[a("span",{staticClass:"has-text-grey-light is-italic"},[e._v("no collections yet")])])]),e._v(" "),a("b-modal",{staticClass:"has-custom-modal-card",attrs:{active:e.isCollectionModalActive,width:350,scroll:"keep"},on:{"update:active":function(t){e.isCollectionModalActive=t}}},[a("section",{staticClass:"width-auto",attrs:{scroll:"clip"}},[a("p",{staticClass:"has-text-weight-bold"},[e._v("Create new collection")]),e._v(" "),a("p",[e._v("Before creating a new collection please check if it already exists. Repeated or misleading collections may be banned!")]),e._v(" "),a("b-field",{staticClass:"margin-top-20-px",attrs:{label:"Select Type"}},[a("b-select",{attrs:{placeholder:"Select Collection type",required:""},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}},e._l(e.collectionTypes,(function(t){return a("option",{key:t,domProps:{value:t}},[e._v("\n                                       "+e._s(t)+"\n                                    ")])})),0)],1),e._v(" "),a("b-field",{staticClass:"margin-top-20-px",attrs:{label:"Name of the collection"}},[a("b-input",{attrs:{placeholder:"Name",maxlength:"50",required:""},model:{value:e.collectionName,callback:function(t){e.collectionName=t},expression:"collectionName"}})],1),e._v(" "),a("button",{staticClass:"margin-top-20-px margin-bottom-20-px button is-clear",attrs:{disabled:e.disable},on:{click:e.createCollection}},[e._v("Confirm")])],1)])],1),e._v(" "),a("div",{staticClass:"column"},[a("no-ssr",[a("app-addpost",{staticClass:"margin-bottom-10-px",attrs:{from:"user"},on:{refreshQuery:function(t){return e.refreshQuery(t)}}})],1),e._v(" "),a("no-ssr",[a("p",{staticClass:"margin-bottom-10-px has-text-right"},[a("b-dropdown",{staticClass:"has-text-left is-right"},[a("button",{staticClass:"button is-text is-small margin-top-10-px",attrs:{slot:"trigger"},slot:"trigger"},[a("span",[e._v("Sort")]),e._v(" "),a("b-icon",{attrs:{icon:"unfold-more-horizontal",size:"is-small"}})],1),e._v(" "),a("b-dropdown-item",[a("nuxt-link",{attrs:{to:{query:this.sortbyQuery("popular")}}},[e._v("Popular")])],1),e._v(" "),a("b-dropdown-item",[a("nuxt-link",{attrs:{to:{query:this.sortbyQuery("trending")}}},[e._v("Trending")])],1),e._v(" "),a("b-dropdown-item",[a("nuxt-link",{attrs:{to:{query:this.sortbyQuery("latest")}}},[e._v("Latest")])],1)],1)],1)]),e._v(" "),e.posts&&e.posts.length?a("div",[e._l(e.posts,(function(t,s){return a("div",{key:s,staticClass:"margin-bottom-50-px"},[a("app-post",{attrs:{routeEnter:e.routeEnter,postObject:t,profileImageDeleted:e.profileImageDeleted,profileImageHash:e.profileImageHash,username:e.user.username},on:{refreshQuery:function(t){return e.refreshQuery(t)},decreaseOffset:function(t){return e.decreaseOffset(t)}}})],1)})),e._v(" "),1==e.hasmore?a("center",[a("button",{staticClass:"button is-clear",on:{click:e.loadmore}},[e._v("load more")])]):e._e(),e._v(" "),this.pageNumber>1?a("nuxt-link",{staticClass:"is-hidden",attrs:{to:{query:this.prevPageQuery()}}},[e._v("page "+e._s(parseInt(this.pageNumber)-1))]):e._e(),e._v(" "),1==e.hasmore?a("nuxt-link",{staticClass:"is-hidden",attrs:{to:{query:this.nextPageQuery()}}},[e._v("page "+e._s(parseInt(this.pageNumber)+1))]):e._e()],2):e.currentUser&&e.username==e.currentUser?e._e():a("div",{staticClass:"margin-top-50-px"},[a("div",[a("b-icon",{attrs:{icon:"card-bulleted-outline",size:"is-small"}}),e._v(" "),a("b",{staticClass:"margin-left-5-px"},[e._v("@"+e._s(e.username))])],1),e._v("\n                     "+e._s(e.user.name)+" has not posted anything yet\n                  ")])],1)])]),e._v(" "),a("div",{staticClass:"column"})]):e._e(),e._v(" "),a("b-modal",{staticClass:"has-custom-modal-card",attrs:{active:e.isImageUploadModalActive,width:300,scroll:"keep"},on:{"update:active":function(t){e.isImageUploadModalActive=t}}},[a("section",{staticClass:"width-auto"},[a("div",[e._v("\n               This image represents your online presence. Please keep it clean and make sure it "),a("b",[e._v("does not contain text")]),e._v("!\n            ")]),e._v(" "),a("div",{staticClass:"is-divider",attrs:{"data-content":"SELECT FILE AND UPLOAD"}}),e._v(" "),a("div",{staticClass:"has-text-centered margin-top-10-px"},[e.attachedImages&&0==e.attachedImages.length?a("b-upload",{ref:"file",attrs:{accept:"image/*",multiple:""},on:{input:e.addImageToModal},model:{value:e.dropFiles,callback:function(t){e.dropFiles=t},expression:"dropFiles"}},[a("div",{staticClass:"button is-primary",class:e.uploading?"is-loading":""},[a("span",{staticClass:"margin-right-5-px"},[e._v("Upload")]),e._v(" "),a("b-icon",{attrs:{icon:"upload"}})],1)]):e._e()],1),e._v(" "),a("div",{staticClass:"margin-top-20-px",attrs:{id:"uploaded-profile-picture"}},e._l(e.attachedImages,(function(t,s){return a("figure",{key:s,staticClass:"image is-square bg-cover has-background-white-ter border-radius-3-px overflow-hidden",style:"background: url("+e.server+t.destination+t.filename+")"},[a("button",{staticClass:"button is-white pp-options-button",on:{click:function(t){return e.removeAddedImage(s)}}},[e._v("x")])])})),0),e._v(" "),e.attachedImages&&e.attachedImages.length>0?a("div",{staticClass:"margin-top-20-px margin-bottom-20-px"},[a("div",{staticClass:"is-divider",attrs:{"data-content":"CONFIRM ?"}}),e._v(" "),a("button",{staticClass:"button is-dark",on:{click:e.changeProfileImage}},[e._v("Yes")]),e._v(" "),a("button",{staticClass:"button is-clear margin-left-5-px",on:{click:function(t){e.isImageUploadModalActive=!1}}},[e._v("No")])]):e._e()])])],1)],1)}),[],!1,null,"1f4e40b9",null);t.default=q.exports},284:function(e,t,a){},287:function(e,t,a){e.exports=function(){"use strict";function e(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function t(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s])}return e}).apply(this,arguments)}function s(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function n(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?s(Object(n),!0).forEach((function(a){t(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var o=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){"undefined"!=typeof window&&function(t){var a=t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype,s=t.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),n=s&&t.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),o=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||t.MSBlobBuilder,i=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,r=(s||o)&&t.atob&&t.ArrayBuffer&&t.Uint8Array&&function(e){var t,a,r,l,c,u,m,h,d;if(!(t=e.match(i)))throw new Error("invalid data URI");for(a=t[2]?t[1]:"text/plain"+(t[3]||";charset=US-ASCII"),r=!!t[4],l=e.slice(t[0].length),c=r?atob(l):decodeURIComponent(l),u=new ArrayBuffer(c.length),m=new Uint8Array(u),h=0;h<c.length;h+=1)m[h]=c.charCodeAt(h);return s?new Blob([n?m:u],{type:a}):((d=new o).append(u),d.getBlob(a))};t.HTMLCanvasElement&&!a.toBlob&&(a.mozGetAsFile?a.toBlob=function(e,t,s){var n=this;setTimeout((function(){s&&a.toDataURL&&r?e(r(n.toDataURL(t,s))):e(n.mozGetAsFile("blob",t))}))}:a.toDataURL&&r&&(a.toBlob=function(e,t,a){var s=this;setTimeout((function(){e(r(s.toDataURL(t,a)))}))})),e.exports?e.exports=r:t.dataURLtoBlob=r}(window)})),i={strict:!0,checkOrientation:!0,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,quality:.8,mimeType:"auto",convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},r="undefined"!=typeof window&&void 0!==window.document?window:{},l=Array.prototype.slice,c=/^image\/.+$/;function u(e){return c.test(e)}var m=String.fromCharCode,h=r.btoa;function d(e){var t,a=new DataView(e);try{var s,n,o;if(255===a.getUint8(0)&&216===a.getUint8(1))for(var i=a.byteLength,r=2;r+1<i;){if(255===a.getUint8(r)&&225===a.getUint8(r+1)){n=r;break}r+=1}if(n){var l=n+10;if("Exif"===function(e,t,a){var s,n="";for(a+=t,s=t;s<a;s+=1)n+=m(e.getUint8(s));return n}(a,n+4,4)){var c=a.getUint16(l);if(((s=18761===c)||19789===c)&&42===a.getUint16(l+2,s)){var u=a.getUint32(l+4,s);u>=8&&(o=l+u)}}}if(o){var h,d,p=a.getUint16(o,s);for(d=0;d<p;d+=1)if(h=o+12*d+2,274===a.getUint16(h,s)){h+=8,t=a.getUint16(h,s),a.setUint16(h,1,s);break}}}catch(e){t=1}return t}var p=/\.\d*(?:0|9){12}\d*$/;function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return p.test(e)?Math.round(e*t)/t:e}var g=r.ArrayBuffer,v=r.FileReader,b=r.URL||r.webkitURL,y=/\.\w+$/,_=r.Compressor;return function(){function t(e,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e,this.image=new Image,this.options=n({},i,{},a),this.aborted=!1,this.result=null,this.init()}var s,c,p;return s=t,p=[{key:"noConflict",value:function(){return window.Compressor=_,t}},{key:"setDefaults",value:function(e){a(i,e)}}],(c=[{key:"init",value:function(){var e=this,t=this.file,s=this.options;if(n=t,"undefined"!=typeof Blob&&(n instanceof Blob||"[object Blob]"===Object.prototype.toString.call(n))){var n,o=t.type;if(u(o))if(b&&v)if(g||(s.checkOrientation=!1),b&&!s.checkOrientation)this.load({url:b.createObjectURL(t)});else{var i=new v,r=s.checkOrientation&&"image/jpeg"===o;this.reader=i,i.onload=function(s){var n=s.target.result,i={};if(r){var c=d(n);c>1||!b?(i.url=function(e,t){for(var a,s=[],n=new Uint8Array(e);n.length>0;)s.push(m.apply(null,(a=n.subarray(0,8192),Array.from?Array.from(a):l.call(a)))),n=n.subarray(8192);return"data:".concat(t,";base64,").concat(h(s.join("")))}(n,o),c>1&&a(i,function(e){var t=0,a=1,s=1;switch(e){case 2:a=-1;break;case 3:t=-180;break;case 4:s=-1;break;case 5:t=90,s=-1;break;case 6:t=90;break;case 7:t=90,a=-1;break;case 8:t=-90}return{rotate:t,scaleX:a,scaleY:s}}(c))):i.url=b.createObjectURL(t)}else i.url=n;e.load(i)},i.onabort=function(){e.fail(new Error("Aborted to read the image with FileReader."))},i.onerror=function(){e.fail(new Error("Failed to read the image with FileReader."))},i.onloadend=function(){e.reader=null},r?i.readAsArrayBuffer(t):i.readAsDataURL(t)}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(e){var t=this,a=this.file,s=this.image;s.onload=function(){t.draw(n({},e,{naturalWidth:s.naturalWidth,naturalHeight:s.naturalHeight}))},s.onabort=function(){t.fail(new Error("Aborted to load the image."))},s.onerror=function(){t.fail(new Error("Failed to load the image."))},r.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(r.navigator.userAgent)&&(s.crossOrigin="anonymous"),s.alt=a.name,s.src=e.url}},{key:"draw",value:function(e){var t=this,a=e.naturalWidth,s=e.naturalHeight,n=e.rotate,i=void 0===n?0:n,r=e.scaleX,l=void 0===r?1:r,c=e.scaleY,m=void 0===c?1:c,h=this.file,d=this.image,p=this.options,g=document.createElement("canvas"),v=g.getContext("2d"),b=a/s,y=Math.abs(i)%180==90,_=Math.max(p.maxWidth,0)||1/0,C=Math.max(p.maxHeight,0)||1/0,w=Math.max(p.minWidth,0)||0,$=Math.max(p.minHeight,0)||0,A=Math.max(p.width,0)||a,x=Math.max(p.height,0)||s;if(y){var k=[C,_];_=k[0],C=k[1];var I=[$,w];w=I[0],$=I[1];var P=[x,A];A=P[0],x=P[1]}_<1/0&&C<1/0?C*b>_?C=_/b:_=C*b:_<1/0?C=_/b:C<1/0&&(_=C*b),w>0&&$>0?$*b>w?$=w/b:w=$*b:w>0?$=w/b:$>0&&(w=$*b),x*b>A?x=A/b:A=x*b;var U=-(A=Math.floor(f(Math.min(Math.max(A,w),_))))/2,S=-(x=Math.floor(f(Math.min(Math.max(x,$),C))))/2,O=A,M=x;if(y){var N=[x,A];A=N[0],x=N[1]}g.width=A,g.height=x,u(p.mimeType)||(p.mimeType=h.type);var j="transparent";if(h.size>p.convertSize&&"image/png"===p.mimeType&&(j="#fff",p.mimeType="image/jpeg"),v.fillStyle=j,v.fillRect(0,0,A,x),p.beforeDraw&&p.beforeDraw.call(this,v,g),!this.aborted&&(v.save(),v.translate(A/2,x/2),v.rotate(i*Math.PI/180),v.scale(l,m),v.drawImage(d,U,S,O,M),v.restore(),p.drew&&p.drew.call(this,v,g),!this.aborted)){var q=function(e){t.aborted||t.done({naturalWidth:a,naturalHeight:s,result:e})};g.toBlob?g.toBlob(q,p.mimeType,p.quality):q(o(g.toDataURL(p.mimeType,p.quality)))}}},{key:"done",value:function(e){var t,a,s=e.naturalWidth,n=e.naturalHeight,o=e.result,i=this.file,r=this.image,l=this.options;if(b&&!l.checkOrientation&&b.revokeObjectURL(r.src),o)if(l.strict&&o.size>i.size&&l.mimeType===i.type&&!(l.width>s||l.height>n||l.minWidth>s||l.minHeight>n))o=i;else{var c=new Date;o.lastModified=c.getTime(),o.lastModifiedDate=c,o.name=i.name,o.name&&o.type!==i.type&&(o.name=o.name.replace(y,(t=o.type,"jpeg"===(a=u(t)?t.substr(6):"")&&(a="jpg"),".".concat(a))))}else o=i;this.result=o,l.success&&l.success.call(this,o)}},{key:"fail",value:function(e){var t=this.options;if(!t.error)throw e;t.error.call(this,e)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}])&&e(s.prototype,c),p&&e(s,p),t}()}()},289:function(e,t,a){"use strict";var s=a(284);a.n(s).a},290:function(e,t,a){"use strict";var s=a(96),n=a(95),o=a.n(n);function i(){var e=Object(s.a)(["\n            mutation addPost(\n              $title: String\n              $status: String\n              $privacy: PostPrivacy!\n              $hidefromprofile: NoYes!\n              $attachments: [Upload]\n              $customfield: String\n              $collectionhash: String\n              $aliashash: String\n              $theme: Theme!\n              $themedata_link: ThemeLinkData\n              $themedata_shop: ThemeShopData\n            ) {\n              addPost(\n                title: $title\n                status: $status\n                privacy: $privacy\n                hidefromprofile: $hidefromprofile\n                attachments: $attachments\n                customfield: $customfield\n                collectionhash: $collectionhash\n                aliashash: $aliashash\n                theme: $theme\n                themedata_link: $themedata_link\n                themedata_shop: $themedata_shop\n              ) {\n                status\n              }\n            }\n          "]);return i=function(){return e},e}var r={props:{hash:{type:String},theme:{type:String},name:{type:String},from:{type:String},collectionPermissions:{type:Object},publicWrite:{type:Boolean}},data:function(){return{status:""}},methods:{gotoAddPost:function(e){this.$store.state.user?"collection"==this.from?this.collectionPermissions&&1==this.collectionPermissions.write?this.$router.push({name:"compose",query:{hash:this.hash,theme:e}}):this.$toast.open({message:"Access Denied!",type:"is-danger",position:"is-bottom"}):this.$router.push({name:"compose",query:{theme:e}}):this.$toast.open({message:"Login required!",type:"is-danger",position:"is-bottom"})},submit:function(){var e=this,t=this.status;this.privacy;if(this.$route.params)var a=this.$route.params.hash;if(this.$route.params)var s=this.$route.params.hash;var n=this.dropFiles;if(1==this.hideFromProfile);else;this.$apollo.mutate({mutation:o()(i()),variables:{status:t,privacy:"public",hidefromprofile:"no",attachments:n,collectionhash:a,aliashash:s,theme:"status"}}).then((function(t){e.$emit("refreshQuery"),e.status=""})).catch((function(t){t&&e.$toast.open({message:"Some error occured",type:"is-danger",position:"is-bottom"})}))}},mounted:function(){}},l=(a(289),a(22)),c=Object(l.a)(r,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("b-tabs",{staticClass:"write-post",attrs:{type:"is-boxed",animated:!1}},[null==e.theme||"status"==e.theme?a("b-tab-item",[a("template",{slot:"header"},[a("b-icon",{attrs:{icon:"text-short"}}),e._v(" "),a("span",[e._v(" Status ")])],1),e._v(" "),a("p",{staticClass:"has-text-grey-light pointer border-radius-5-px write-post-input is-size-5 is-size-6-mobile",on:{click:function(t){return e.gotoAddPost("status")}}},[e._v("Post a short update ...")])],2):e._e(),e._v(" "),null==e.theme||"article"==e.theme?a("b-tab-item",[a("template",{slot:"header"},[a("b-icon",{attrs:{icon:"text-subject"}}),e._v(" "),a("span",[e._v(" Article ")])],1),e._v(" "),a("p",{staticClass:"has-text-grey-light pointer border-radius-5-px write-post-input is-size-5 is-size-6-mobile",on:{click:function(t){return e.gotoAddPost("article")}}},[e._v("Compose an article ...")])],2):e._e(),e._v(" "),null==e.theme||"link"==e.theme?a("b-tab-item",[a("template",{slot:"header"},[a("b-icon",{attrs:{icon:"link"}}),e._v(" "),a("span",[e._v(" Link ")])],1),e._v(" "),a("p",{staticClass:"has-text-grey-light pointer border-radius-5-px write-post-input is-size-5 is-size-6-mobile",on:{click:function(t){return e.gotoAddPost("link")}}},[e._v("Share a link ...")])],2):e._e(),e._v(" "),"shop"==e.theme?a("b-tab-item",[a("template",{slot:"header"},[a("b-icon",{attrs:{icon:"shopping"}}),e._v(" "),a("span",[e._v(" Product ")])],1),e._v(" "),a("p",{staticClass:"has-text-grey-light pointer border-radius-5-px write-post-input is-size-5 is-size-6-mobile",on:{click:function(t){return e.gotoAddPost("shop")}}},[e._v("Post a product ...")])],2):e._e()],1)],1)}),[],!1,null,"2a35c10a",null);t.a=c.exports},315:function(e,t,a){},358:function(e,t,a){"use strict";var s=a(315);a.n(s).a}}]);