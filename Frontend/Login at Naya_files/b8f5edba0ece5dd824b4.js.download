(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{1188:function(a,t,e){"use strict";e.r(t);var s=e(96),n=(e(69),e(95)),i=e.n(n);function o(){var a=Object(s.a)(["\n               mutation addUser(\n               $username: Username!\n               $email: Email!\n               $name: String!\n               $password: Password!\n               ) {\n               addUser(\n                  username: $username\n                  email: $email\n                  name: $name\n                  password: $password\n               ) {\n                  success\n               }\n               }\n            "]);return o=function(){return a},a}var r={props:{},data:function(){return{title:"Registration Form",form:{},name:"",username:"",email:"",password:"",confirmPassword:"",isLoading:!1,error:null}},head:function(){return{title:"Register at Naya",meta:[{hid:"description",name:"description",content:"register at naya to explore contents of naya"}]}},methods:{changeToLowercase:function(){this.username=this.username.toLowerCase()},register:function(){var a=this;this.isLoading=!0,this.username.length>0&&this.email.length>0&&this.name.length>0&&this.password.length>0&&this.confirmPassword.length>0?this.password===this.confirmPassword?this.$apollo.mutate({mutation:i()(o()),variables:{username:this.username,email:this.email,name:this.name,password:this.password}}).then((function(t){a.$router.push({name:"activation",query:{email:a.email}}),a.isLoading=!1})).catch((function(t){a.isLoading=!1,'GraphQL error: duplicate key value violates unique constraint "person_username_key"'==t.message?a.$toast.open({message:"Username already exists",type:"is-danger",position:"is-top"}):a.$toast.open({message:"Some Error Occured",type:"is-danger",position:"is-top"})})):(this.error="Password and confirmation password must be exactly the same",this.isLoading=!1):(this.error="Mandatory fields look empty",this.isLoading=!1)}},beforeMount:function(){this.$store.state.user&&this.$router.push({name:"index"})},components:{"app-logo":e(285).a}},c=(e(343),e(22)),l=Object(c.a)(r,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("section",{staticClass:"hero is-fullheight"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container"},[e("div",{staticClass:"form account has-text-left"},[e("app-logo",{staticClass:"margin-bottom-50-px has-text-centered"}),a._v(" "),a._m(0),a._v(" "),null!=a.error?e("div",{staticClass:"is-size-7 has-text-danger margin-bottom-15-px"},[a._v(a._s(a.error))]):a._e(),a._v(" "),e("div",{staticClass:"account-input"},[e("b-input",{attrs:{maxlength:"30",placeholder:"username",required:""},nativeOn:{keyup:function(t){return a.changeToLowercase(t)}},model:{value:a.username,callback:function(t){a.username=t},expression:"username"}}),a._v(" "),e("b-input",{staticClass:"margin-bottom-20-px",attrs:{type:"email",placeholder:"email",required:""},model:{value:a.email,callback:function(t){a.email=t},expression:"email"}}),a._v(" "),e("b-input",{attrs:{maxlength:"50",placeholder:"name",required:""},model:{value:a.name,callback:function(t){a.name=t},expression:"name"}}),a._v(" "),e("b-input",{staticClass:"inline border-bottom margin-bottom-20-px",attrs:{type:"password",placeholder:"password",required:""},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}}),a._v(" "),e("b-input",{staticClass:"inline border-bottom",attrs:{type:"password",placeholder:"Confirm password",required:""},model:{value:a.confirmPassword,callback:function(t){a.confirmPassword=t},expression:"confirmPassword"}})],1),a._v(" "),e("div",[e("p",{staticClass:"has-text-centered margin-top-20-px"},[e("button",{staticClass:"button is-rounded",class:a.isLoading?"is-loading":"",on:{click:a.register}},[a._v("Register")])])]),a._v(" "),e("p",{staticClass:"is-size-7 has-text-centered margin-top-20-px"},[e("nuxt-link",{staticClass:"has-text-grey",attrs:{to:{name:"login"}}},[a._v("\n                     Already have a "),e("b",[a._v("naya.com.np")]),a._v(" account?\n                     "),e("br"),a._v(" "),e("span",{staticClass:"has-text-primary"},[a._v("Login here")])])],1)],1)])])])])}),[function(){var a=this.$createElement,t=this._self._c||a;return t("div",{staticClass:"is-size-6-half margin-bottom-15-px"},[this._v("Let's create your "),t("b",[this._v("personal account")]),this._v(". If you need to add a business or create a page you can do that later.")])}],!1,null,"2eba5491",null);t.default=l.exports},285:function(a,t,e){"use strict";e(97),e(153),e(154),e(47);var s=e(96),n=e(95),i=e.n(n);function o(){var a=Object(s.a)(["\n                     mutation analytics {\n                     analytics {\n                        success\n                     }\n                     }\n                  "]);return o=function(){return a},a}var r={props:["header","domain"],data:function(){return{server:"https://api.naya.com.np/",local:"https://naya.com.np/"}},methods:{analytics:function(){this.$apollo.mutate({mutation:i()(o()),context:{headers:{nayahash:this.$cookies.get("nayahash")}}}).then((function(a){})).catch((function(a){}))}},mounted:function(){var a=this;if(null==this.$cookies.get("nayahash")){var t=function a(t){return t?(t^16*Math.random()>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,a)}();this.$cookies.set("nayahash",t,{path:"/",maxAge:2592e3})}setTimeout((function(){a.analytics()}),2e3)}},c=e(22),l=Object(c.a)(r,(function(){var a=this,t=a.$createElement,e=a._self._c||t;return a.header&&a.domain?e("a",{staticClass:"navbar-item naya-logo",attrs:{href:a.local}},[a._m(0)]):a.header?e("nuxt-link",{staticClass:"navbar-item naya-logo",attrs:{to:{name:"index"}}},[e("span",{staticClass:"logo"},[a._v("\n      n"),e("span",{staticClass:"is-hidden-mobile"},[a._v("aya")])])]):e("div",{staticClass:"naya-logo"},[e("nuxt-link",{attrs:{to:{name:"index"}}},[e("span",{staticClass:"logo"},[a._v("naya")])])],1)}),[function(){var a=this.$createElement,t=this._self._c||a;return t("span",{staticClass:"logo"},[this._v("\n      n"),t("span",{staticClass:"is-hidden-mobile"},[this._v("aya")])])}],!1,null,null,null);t.a=l.exports},300:function(a,t,e){},343:function(a,t,e){"use strict";var s=e(300);e.n(s).a}}]);